/*!
 * Start Bootstrap - Festival Allstedt v5.0.3 (https://festival-allstedt.firebaseapp.com/)
 * Copyright 2013-2020 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/festival-allstedt/blob/master/LICENSE)
 */

$(function(){var c=$("#contactForm button#send"),l=$("#contactForm #sendSpinner"),i=$("#contactForm #formHelpSection"),e=$("#contactForm input#subjectRadio1"),a=$("#contactForm input#subjectRadio2"),d=$("#contactForm input#arrival"),u=$("#contactForm input#period"),m=$("#contactForm input#purposeCheck1"),h=$("#contactForm input#purposeCheck2");e.change(function(){"on"===this.value&&(i.addClass("d-none"),d.removeAttr("required"),u.removeAttr("required"))}),a.change(function(){"on"===this.value&&(i.removeClass("d-none"),d.attr("required",!0),u.attr("required",!0))}),$("#contactForm").on("submit",function(e){e.preventDefault(),l.removeClass("d-none"),c.attr("disabled",!0);var a,t,n,o=$("input#g-recaptcha-response").val();i.hasClass("d-none")?(a="kontakt@tarmac-festival.de",t="Allgemeine Anfrage",n=""):(a="helfen@tarmac-festival.de",t="Ich m√∂chte helfen",n="<br>Anreisedatum: "+d.val()+"<br>Dauer: "+u.val()+"<br>Helfen beim Aufbau: "+m.is(":checked")+"<br>Helfen beim Abbau: "+h.is(":checked"));var s=$("#contactForm input#name").val(),r="Nachricht von: "+s+" ["+$("#contactForm input#email").val()+"]<br>Betreff: "+t+n+"<br><br>"+$("textarea#message").val();return $.ajax({type:"POST",url:"/checkRecaptcha",data:{token:o,subject:t,name:s,email:a,message:r},success:function(e){if(console.log("response: "+e.response),"success"===e.result){var a=$("#alertSuccess");a.addClass("show").removeClass("d-none"),a.delay(4e3).slideUp(200,function(){$(this).alert("close").addClass("d-none")}),$("#contactForm").get(0).reset()}else{var t=$("#alertFail");t.addClass("show").removeClass("d-none"),t.delay(3e4).slideUp(200,function(){$(this).alert("close").addClass("d-none")})}l.addClass("d-none"),c.attr("disabled",!1)},error:function(){console.log("error while sending mail!");var e=$("#alertFail");e.addClass("show").removeClass("d-none"),e.delay(3e4).slideUp(200,function(){$(this).alert("close").addClass("d-none")}),l.addClass("d-none"),c.attr("disabled",!1)}}),!1}),$('a[data-toggle="tab"]').click(function(e){e.preventDefault(),$(this).tab("show")})});